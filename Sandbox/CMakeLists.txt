cmake_minimum_required(VERSION 3.21.1)

set(CMAKE_CONFIGURATION_TYPES "Debug;RelWithDebInfo;Release" CACHE STRING "" FORCE)

project(Sandbox)

set(SOURCE_FILES src/SandboxApp.cpp resources/manifest.manifest)

add_executable(Sandbox ${SOURCE_FILES})

set_target_properties(
    Sandbox PROPERTIES RUNTIME_OUTPUT_DIRECTORY_DEBUG "${CMAKE_CURRENT_BINARY_DIR}"
                       RUNTIME_OUTPUT_DIRECTORY_RELEASE "${CMAKE_CURRENT_BINARY_DIR}"
                       RUNTIME_OUTPUT_DIRECTORY_MINSIZEREL "${CMAKE_CURRENT_BINARY_DIR}"
                       RUNTIME_OUTPUT_DIRECTORY_RELWITHDEBINFO "${CMAKE_CURRENT_BINARY_DIR}"
)

set_target_properties(Sandbox PROPERTIES WIN32_EXECUTABLE $<NOT:$<CONFIG:Debug>>)
set_property(TARGET Sandbox PROPERTY VS_DEBUGGER_WORKING_DIRECTORY "${CMAKE_CURRENT_BINARY_DIR}")

target_link_libraries(Sandbox DestinyEngine)